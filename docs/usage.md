# HayFrp 使用指南

## 从注册到启动

1. **注册 HayFrp 账户**
   - 访问控制台：https://console.hayfrp.com/
   - 点击“进入控制台”以进入登录页。
   - 在登录页中，点击“没有账户？注册！”以跳转至注册页。
   - 在注册页中，输入用户名、密码、邮箱，点击“发送验证码”。
   - 打开邮箱软件，找到信件“注册 HayFrp 账户”，复制里面的验证码，粘贴到输入框中，点击“注册”。
   - 如果没有问题，您应该可以注册成功并自动跳转到登录页。
   - 如果没有收到验证码，请在 60s 后再次点击“重新发送验证码”。

2. **登录 HayFrp 账户**
   - 进入[登录页](https://console.hayfrp.com/login)。
   - 在登录页中，输入用户名、密码，点击“登录”。
   - 如果没有问题，您应该可以登录成功并自动跳转到控制台。

3. **创建隧道**
   - 登录控制台后，点击“隧道”来到隧道页。
   - 在隧道页中，点击“新建隧道”来到新建隧道页面。
   - 在新建隧道页面中，选择隧道类型、隧道名称、隧道协议、隧道本地端口、隧道远程端口、所需隧道节点，点击“创建”。
   - 如果没有问题，您应该可以创建成功并自动跳转到隧道列表。
   - 在隧道列表中，点击您的隧道，即可显示隧道详情。点击“配置”即可显示隧道配置文件，您可以点击“复制”将隧道配置一键复制。

4. **启动隧道**
   - 到下载页，选择适合您系统和架构的 Frp 客户端，点击“跳转以下载”以下载文件。
   - 将文件下载后解压，找到“frpc.toml”编辑，将复制的配置文件覆盖进去后保存。
   - 在终端（Windows 11）输入“./frpc.exe -c frpc.toml”。
   - 在 CMD（Windows）输入“frpc.exe -c frpc.toml”。
   - 在 Shell（MacOS/Linux/Unix）输入“./frpc -c frpc.toml”。
   - 即可启动隧道。
   - 外网地址在控制台复制即可使用。

## 推荐用途

- **MC 服务器**：将本地运行的 Minecraft 服务器暴露到公网，让玩家可以从任何地方加入。
- **网站调试**：通过内网穿透，在本地开发环境中调试网站，方便查看效果。
- **建站**：将本地网站暴露到公网，方便用户访问。
- **远程桌面**：通过内网穿透，远程访问和控制本地计算机。
- **远程控制**：通过内网穿透，远程控制其他设备。
- **更多环境**：适用于各种需要将内网资源暴露到公网的场景。

## 常见错误

### 隧道启动失败

1. **提示“隧道已被禁用”**
   - 请到 HayFrp Console 选中对应隧道后单击启用。

2. **提示“隧道不存在”**
   - 请检查您的配置文件是否正确，如果发现非用户问题请提交至 HayFrp 团队。

3. **报错“节点没有上线权限”**
   - 请等待节点在 HayFrp 在线节点列表出现后重试。

4. **报错“未找到节点”**
   - 您正在连接的节点非 HayFrp 官方授权运行，建议您将配置文件提交给 HayFrp 团队鉴定。

5. **报错“i/o timeout”**
   - 一般来说是客户端在连接节点时发生超时，也有可能是节点连接到 HayFrp API 发生超时。如果您正开着加速器，请您关闭后重试。仍然出现该问题请反馈到官方。

6. **报错“没有找到用户”**
   - 请检查您的配置文件是否正确，该提示表明您的配置文件中“user”字段有误，HayFrp API 没有找到对应用户。

7. **报错“连接被拒绝”**
   - **防火墙或安全软件阻止**：请检查您的防火墙或安全软件设置，确保允许 Frp 客户端通过。
   - **端口被占用**：请检查本地端口是否被其他程序占用，可以尝试更换端口。
   - **网络问题**：请检查您的网络连接是否正常，可以尝试重启路由器或联系网络管理员。

8. **报错“配置文件错误”**
   - **配置文件格式错误**：请检查配置文件是否按照正确的格式编写。
   - **缺少必要字段**：请检查配置文件是否包含所有必要的字段，如“server_addr”、“server_port”、“token”等。
   - **字段值错误**：请检查配置文件中的字段值是否正确，如端口号、IP 地址等。

9. **报错“无法连接到服务器”**
   - **服务器宕机**：请检查服务器是否正常运行，可以尝试联系管理员或等待服务器恢复。
   - **网络问题**：请检查您的网络连接是否正常，可以尝试重启路由器或联系网络管理员。
   - **防火墙或安全软件阻止**：请检查您的防火墙或安全软件设置，确保允许 Frp 客户端通过。

10. **报错“认证失败”**
    - **Token 错误**：请检查配置文件中的 Token 是否正确。
    - **用户名或密码错误**：请检查配置文件中的用户名和密码是否正确。
    - **账户被禁用**：请检查您的账户是否被禁用，可以尝试联系管理员。

11. **报错“隧道已存在”**
    - **重复创建隧道**：请检查是否已创建同名隧道，可以尝试更改隧道名称。
    - **配置文件错误**：请检查配置文件中的隧道配置是否正确，可以尝试重新生成配置文件。

12. **报错“隧道类型不支持”**
    - **不支持该类型隧道**：请检查您选择的隧道类型是否在支持的类型列表中。
    - **配置文件错误**：请检查配置文件中的隧道类型配置是否正确。

13. **报错“隧道节点不可用”**
    - **节点负载过高**：请选择其他负载较低的节点。
    - **节点维护中**：请等待节点维护结束或选择其他节点。

14. **报错“隧道协议不支持”**
    - **不支持该协议**：请检查您选择的隧道协议是否在支持的协议列表中。
    - **配置文件错误**：请检查配置文件中的隧道协议配置是否正确。

### 信息“start proxy success.”

- 这是正常的隧道启动成功提示，提示出现后意味着您的隧道已正常上线。

### 启动成功但映射出去的网站无法访问？

- 多半是域名被墙了，建议使用 IP 直接访问或者开加速器访问。

### 为什么 MC 穿透不建议使用直接的 TCP 映射？

- 由于人数过多、数据包流量大等问题，直接使用 TCP 穿透可能导致节点其他用户的使用体验下滑。S/X TCP 点对点技术，特别是 XTCP，无大流量经过服务器的同时还能保障链接建立。所以，在我们对这些情况的综合考虑下，决定开放“联机大厅”模块，可快速建立 X/S TCP 链接。在保障游戏体验的情况下，您完全可以直接选择联机大厅。XTCP 既不会影响到节点的其他用户，又可以保障您的游戏低延迟体验。

### 为什么我在配置文件中使用了真实 IP，我的 SSH 链接、NGINX 网站等就出现了无法访问的情况？

- 实际上，真实 IP 加入数据包很容易导致数据包损坏，就无法访问服务。真实 IP 仅推荐在游戏联机上，如果您无需该功能，您完全可以禁用此功能。

### SUDP 建立连接后，我无法访问服务？

- 由于 Frp 官方开发代码未知原因，暂时无法建立 UDP 联机或数据包可能遭受损坏，所以可能无法连接。

## 联系我们

如果您在使用 HayFrp 过程中遇到任何问题，可以通过以下方式联系我们：

- **邮箱**：contact@hayfrp.com
- **网站**：[https://www.hayfrp.com](https://www.hayfrp.com)

我们会在收到您的联系后，尽快给予回复和处理。